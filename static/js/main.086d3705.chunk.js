(this["webpackJsonpyou-as-holding-web"]=this["webpackJsonpyou-as-holding-web"]||[]).push([[0],{121:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),i=(a(121),a(14)),s=a.n(i),l=a(20),j=a(21),u=a(154),d=a(173),b=a(94),O=a(166),h=a(163),m=a(167),x=a(168),p=a(169),f=a(170),v=a(171),g=a(181),C=a(164),y=a(176),w=a(90).a.create({prefixUrl:"https://fundament-stock-api.herokuapp.com",headers:{accept:"application/json"}}),S=function(e){return w.post("orders",{json:e})},k=a(157),N=a(158),T=a(177),M=a(159),q=a(175),A=a(174),I=a(180),V=a(161),B=a(165),D=a(19),F=a(172),L=a(89),P=a(91),z=a(9),E=Object(u.a)((function(){return{formControl:{minWidth:120,paddingTop:24},formLabelPadding:{paddingBottom:16},buttonMargin:{marginTop:24}}})),J=function(e){var t=e.onSave,a=Object(n.useState)(),c=Object(j.a)(a,2),r=c[0],o=c[1],i=Object(n.useState)(0),u=Object(j.a)(i,2),O=u[0],h=u[1],m=Object(n.useState)("C"),x=Object(j.a)(m,2),p=x[0],f=x[1],v=Object(n.useState)(new Date),g=Object(j.a)(v,2),y=g[0],S=g[1],J=Object(n.useState)(0),Q=Object(j.a)(J,2),R=Q[0],$=Q[1],_=Object(n.useState)(0),U=Object(j.a)(_,2),W=U[0],Z=U[1],G=E(),H=Object(n.useCallback)(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("assets").json();case 2:t=e.sent,o(t),t.length>0&&h(t[0].id);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){H()}),[H]),Object(z.jsxs)(d.a,{m:4,display:"flex",flexDirection:"column",children:[Object(z.jsx)(b.a,{variant:"h6",children:" Adicione ativo"}),Object(z.jsxs)(k.a,{className:G.formControl,children:[Object(z.jsx)(N.a,{children:"Tipo de ativo"}),Object(z.jsxs)(T.a,{row:!0,"aria-label":"tipo de ativo",name:"assetType",value:p,onChange:function(){f("C"===p?"V":"C")},children:[Object(z.jsx)(M.a,{value:"C",control:Object(z.jsx)(q.a,{color:"primary"}),label:"Compra"}),Object(z.jsx)(M.a,{value:"V",control:Object(z.jsx)(q.a,{color:"primary"}),label:"Venda"})]})]}),Object(z.jsxs)(k.a,{className:G.formControl,children:[Object(z.jsx)(N.a,{children:"Ativo"}),Object(z.jsx)(A.a,{value:O,onChange:function(e){return h(e.target.value)},children:null===r||void 0===r?void 0:r.map((function(e){return Object(z.jsx)(I.a,{value:e.id,children:e.nome})}))})]}),Object(z.jsx)(D.a,{utils:L.a,children:Object(z.jsxs)(k.a,{className:G.formControl,children:[Object(z.jsx)(N.a,{className:G.formLabelPadding,children:"Data"}),Object(z.jsx)(F.a,{disableToolbar:!0,variant:"inline",value:y,format:"dd/MM/yyyy",onChange:function(e){return S(e)}})]})}),Object(z.jsxs)(k.a,{className:G.formControl,children:[Object(z.jsx)(N.a,{children:"Quantidade"}),Object(z.jsx)(V.a,{value:R,type:"number",onChange:function(e){return $(parseInt(e.target.value))}})]}),Object(z.jsxs)(k.a,{className:G.formControl,children:[Object(z.jsx)(N.a,{children:"Valor total"}),Object(z.jsx)(V.a,{value:W,type:"number",onChange:function(e){return Z(parseInt(e.target.value))},startAdornment:Object(z.jsx)(B.a,{position:"start",children:"R$"})})]}),Object(z.jsx)(C.a,{size:"medium",className:G.buttonMargin,variant:"contained",color:"primary",onClick:function(){t({data:"".concat(Object(P.a)(y,"yyyy-MM-dd"),"T00:00:00Z"),id_ativo:O,id_usuario:1,quantidade:R,tipo:p,valor:W})},children:"Salvar"})]})},Q=function(e){var t=e.ativo,a=t.codigo;return{logo:t.logo,quantidade:e.quantidade,valor:e.valor,codigo:a}},R=Object(u.a)((function(){return{margin:{marginBottom:24},modalContainer:{position:"absolute",width:800,backgroundColor:"white",border:"2px solid #000"},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),$=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(j.a)(r,2),i=o[0],u=o[1],k=R(),N=Object(n.useCallback)(Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=1,w.get("portfolio?usuario=".concat(n)).json();case 2:t=e.sent,a=t.map((function(e){return Q(e)})),c(a);case 5:case"end":return e.stop()}var n}),e)}))),[]),T=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:u(!1),N();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){N()}),[N]),Object(z.jsxs)(d.a,{m:5,children:[Object(z.jsx)(b.a,{className:k.margin,variant:"h5",children:"Sua carteira"}),Object(z.jsx)(O.a,{component:h.a,className:k.margin,children:Object(z.jsxs)(m.a,{size:"small",children:[Object(z.jsx)(x.a,{children:Object(z.jsxs)(p.a,{children:[Object(z.jsx)(f.a,{padding:"checkbox",children:"Ativo"}),Object(z.jsx)(f.a,{}),Object(z.jsx)(f.a,{children:"Quantidade"}),Object(z.jsx)(f.a,{children:"Valor"})]})}),Object(z.jsx)(v.a,{children:a.map((function(e){return Object(z.jsxs)(p.a,{children:[Object(z.jsx)(f.a,{component:"th",scope:"row",children:Object(z.jsx)(g.a,{variant:"square",src:e.logo,alt:e.codigo})}),Object(z.jsx)(f.a,{children:e.codigo}),Object(z.jsx)(f.a,{children:e.quantidade}),Object(z.jsx)(f.a,{children:(t=e.valor,"R$ ".concat(t.toString().replace(".",",")))})]},e.codigo);var t}))})]})}),Object(z.jsx)(C.a,{size:"medium",variant:"contained",color:"primary",onClick:function(){return u(!i)},children:"Adicionar ativo"}),Object(z.jsx)(y.a,{open:i,className:k.modal,onClose:function(){return u(!1)},children:Object(z.jsx)("body",{className:k.modalContainer,children:Object(z.jsx)(J,{onSave:T})})})]})};var _=function(){return Object(z.jsx)($,{})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,184)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(_,{})}),document.getElementById("root")),U()}},[[129,1,2]]]);
//# sourceMappingURL=main.086d3705.chunk.js.map