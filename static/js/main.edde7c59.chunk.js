(this["webpackJsonpyou-as-holding-web"]=this["webpackJsonpyou-as-holding-web"]||[]).push([[0],{286:function(e,a,t){},429:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),i=t(28),r=t.n(i),o=(t(286),t(21)),s=t.n(o),d=t(34),l=t(20),j=t(468),b=t(7),u=t(471),m=t(472),x=t(473),O=t(476),h=t(477),v=t(478),p=t(479),f=t(493),g=t(257),_=t(480),y=t(258),C=t(474),q=t(475),w=t(249).a.create({prefixUrl:"https://fundament-stock-api.herokuapp.com",headers:{accept:"application/json"}}),N=function(e){var a=e.userId,t=e.expand,n=new URLSearchParams;return n.append("usuario",a),t&&n.append("expandir","".concat(t)),w.get("holdings",{searchParams:n}).json()},k=t(461),S=t(462),A=t(466),D=t(144),B=t(145),I=t(125),T=t(121),E=t(253),F=t(2),M=function(e){var a=e.data,t=null===a||void 0===a?void 0:a.map((function(e){return{name:e.ano,margin:(100*e.margem_liquida).toFixed(0)}})),n=function(e){return"".concat(e,"%")};return Object(F.jsx)(k.a,{width:"50%",height:250,children:Object(F.jsxs)(S.a,{data:t,children:[Object(F.jsx)(A.a,{strokeDasharray:"3 3"}),Object(F.jsx)(D.a,{dataKey:"name"}),Object(F.jsx)(B.a,{tickFormatter:n}),Object(F.jsx)(I.a,{formatter:n}),Object(F.jsx)(T.a,{}),Object(F.jsx)(E.a,{name:"Margem",dataKey:"margin",fill:"#0E3A8A"})]})})},K=t(467),L=t(243),V=function(e){var a=e.data,t=null===a||void 0===a?void 0:a.map((function(e){return{name:e.ano,div_ebitda:e.div_ebitda,divida_liquida:e.divida_liquida,ebitda:e.ebitda,lucro_liquido:e.lucro_liquido,margem_ebitda:(100*e.margem_ebitda).toFixed(0),receita_liquida:e.receita_liquida}}));return Object(F.jsx)(k.a,{width:"50%",height:250,children:Object(F.jsxs)(K.a,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(F.jsx)(A.a,{strokeDasharray:"3 3"}),Object(F.jsx)(D.a,{dataKey:"name"}),Object(F.jsx)(B.a,{}),Object(F.jsx)(I.a,{}),Object(F.jsx)(T.a,{}),Object(F.jsx)(L.a,{name:"D\xedvida l\xedquida/EBITDA",type:"monotone",dataKey:"div_ebitda",stroke:"#1B7473"}),Object(F.jsx)(L.a,{name:"D\xedvida l\xedquida",type:"monotone",dataKey:"divida_liquida",stroke:"#810E8A"}),Object(F.jsx)(L.a,{name:"EBITDA",type:"monotone",dataKey:"ebitda",stroke:"#FFC300 "}),Object(F.jsx)(L.a,{name:"Lucro l\xedquido",type:"monotone",dataKey:"lucro_liquido",stroke:"#FF5733"}),Object(F.jsx)(L.a,{name:"Margem l\xedquida/EBITDA",type:"monotone",dataKey:"margem_ebitda",stroke:"#27741B"}),Object(F.jsx)(L.a,{name:"Receita l\xedquida",type:"monotone",dataKey:"receita_liquida",stroke:"#1B3674"})]})})},R=function(e){return"".concat((100*e).toFixed(0),"%")},z=Object(j.a)((function(){return{margin:{marginBottom:24},modalContainer:{position:"absolute",width:800,backgroundColor:"white",border:"2px solid #000"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},graphics:{display:"flex"}}})),P=Object(b.a)((function(){return{head:{},body:{borderBottom:"none",fontSize:14}}}))(u.a),J=function(e){var a=e.row,t=e.holdings,n=c.a.useState(!1),i=Object(l.a)(n,2),r=i[0],o=i[1],s=t.filter((function(e){return e.trimestre.ano===a.ano}));return Object(F.jsxs)(c.a.Fragment,{children:[Object(F.jsxs)(m.a,{children:[Object(F.jsx)(u.a,{children:Object(F.jsx)(x.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!r)},children:r?Object(F.jsx)(C.a,{}):Object(F.jsx)(q.a,{})})}),Object(F.jsx)(u.a,{children:a.ano}),Object(F.jsx)(u.a,{children:a.receita_liquida}),Object(F.jsx)(u.a,{children:a.ebitda}),Object(F.jsx)(u.a,{children:R(a.margem_ebitda)}),Object(F.jsx)(u.a,{children:a.lucro_liquido}),Object(F.jsx)(u.a,{children:R(a.margem_liquida)}),Object(F.jsx)(u.a,{children:a.divida_liquida}),Object(F.jsx)(u.a,{children:a.div_ebitda})]}),Object(F.jsx)(m.a,{children:Object(F.jsx)(u.a,{style:{paddingBottom:0,paddingTop:0},colSpan:12,children:Object(F.jsx)(O.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(F.jsxs)(h.a,{children:[Object(F.jsx)(v.a,{children:Object(F.jsxs)(m.a,{children:[Object(F.jsx)(u.a,{children:"Trimestre"}),Object(F.jsx)(u.a,{children:"Receita l\xedquida"}),Object(F.jsx)(u.a,{children:"EBITDA"}),Object(F.jsx)(u.a,{children:"Margem EBITDA"}),Object(F.jsx)(u.a,{children:"Lucro l\xedquido"}),Object(F.jsx)(u.a,{children:"Margem l\xedquida"}),Object(F.jsx)(u.a,{children:"D\xedvida l\xedquida"}),Object(F.jsx)(u.a,{children:"D\xedvida l\xedquida/EBITDA"})]})}),Object(F.jsx)(p.a,{children:s.map((function(e){return Object(F.jsx)(m.a,{children:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(P,{children:[e.trimestre.ano,"/",e.trimestre.trimestre]}),Object(F.jsx)(P,{children:e.receita_liquida}),Object(F.jsx)(P,{children:e.ebitda}),Object(F.jsx)(P,{children:R(e.margem_ebitda)}),Object(F.jsx)(P,{children:e.lucro_liquido}),Object(F.jsx)(P,{children:R(e.margem_liquida)}),Object(F.jsx)(P,{children:e.divida_liquida}),Object(F.jsx)(P,{children:e.div_ebitda})]})},e.trimestre.codigo)}))})]})})})})]})},Q=function(){var e=Object(n.useState)([]),a=Object(l.a)(e,2),t=a[0],c=a[1],i=Object(n.useState)([]),r=Object(l.a)(i,2),o=r[0],j=r[1],b=z(),x=Object(n.useCallback)(Object(d.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({userId:"1"});case 2:a=e.sent,c(a.consolidated),j(a.holdings);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){x()}),[x]),Object(F.jsxs)(f.a,{m:5,children:[Object(F.jsx)(g.a,{className:b.margin,variant:"h5",children:"Resumo"}),Object(F.jsx)(_.a,{component:y.a,className:b.margin,children:Object(F.jsxs)(h.a,{size:"small",children:[Object(F.jsx)(v.a,{children:Object(F.jsxs)(m.a,{children:[Object(F.jsx)(u.a,{}),Object(F.jsx)(u.a,{children:"Ano"}),Object(F.jsx)(u.a,{children:"Receita l\xedquida"}),Object(F.jsx)(u.a,{children:"Margem EBITDA"}),Object(F.jsx)(u.a,{children:"Lucro l\xedquido"}),Object(F.jsx)(u.a,{children:"Margem l\xedquida"}),Object(F.jsx)(u.a,{children:"D\xedvida l\xedquida"}),Object(F.jsx)(u.a,{children:"D\xedvida l\xedquida/EBITDA"})]})}),Object(F.jsx)(p.a,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(F.jsx)(J,{row:e,holdings:o})}))})]})}),Object(F.jsxs)("div",{className:b.graphics,children:[Object(F.jsx)(M,{data:t}),Object(F.jsx)(V,{data:t})]})]})},U=t(40),W=t(252),$=t(482),H=t(495),Y=t(481),Z=t(483),G=t(484),X=t(124),ee=(t(427),function(e){var a=e.children,t=e.value,n=e.index,c=Object(W.a)(e,["children","value","index"]);return Object(F.jsx)("div",Object(U.a)(Object(U.a)({role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},c),{},{children:t===n&&Object(F.jsx)(g.a,{children:a})}))}),ae=Object(j.a)((function(){return{bold:{fontWeight:700},cards:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)"},card:{margin:"10px 5px"},cardContent:{display:"flex",flexDirection:"column",alignItems:"center"},margin:{marginBottom:24}}})),te=function(){var e=ae(),a=Object(n.useState)(0),t=Object(l.a)(a,2),c=t[0],i=t[1],r=Object(n.useState)([]),o=Object(l.a)(r,2),j=o[0],b=o[1],u=Object(n.useCallback)(Object(d.a)(s.a.mark((function e(){var a,t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=1,w.get("insights-summary?usuario=".concat(c)).json();case 2:a=e.sent,t=a.insights,n=t.filter((function(e){return!!e.ativo_maior_divida.nome||!!e.ativo_maior_lucro.nome||!!e.ativo_maior_receita.nome||!!e.ativo_maior_ebitda.nome})),b(n);case 6:case"end":return e.stop()}var c}),e)}))),[]);return Object(n.useEffect)((function(){u()}),[u]),Object(F.jsxs)(f.a,{m:5,children:[Object(F.jsx)(g.a,{className:e.margin,variant:"h5",children:"Insights"}),Object(F.jsx)(Y.a,{position:"static",color:"default",children:Object(F.jsx)(H.a,{value:c,onChange:function(e,a){i(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:j.map((function(e,a){return Object(F.jsx)($.a,{label:"".concat(e.trimestre.ano,"/").concat(e.trimestre.trimestre)})}))})}),j.map((function(a,t){return Object(F.jsx)(ee,{value:c,index:t,children:Object(F.jsxs)("div",{className:e.cards,children:[!!a.ativo_maior_divida.nome&&Object(F.jsx)(Z.a,{className:e.card,children:Object(F.jsxs)(G.a,{className:e.cardContent,children:[Object(F.jsxs)(g.a,{variant:"subtitle1",align:"center",className:e.bold,children:[" ","Ativo com maior aumento de d\xedvida"," "]}),a.ativo_maior_divida.nome," ",Object(F.jsx)("div",{style:{width:100,height:100},children:Object(F.jsx)(X.a,{maxValue:1,value:a.divida_delta,text:R(a.divida_delta)})})]})}),!!a.ativo_maior_lucro.nome&&Object(F.jsx)(Z.a,{className:e.card,children:Object(F.jsxs)(G.a,{className:e.cardContent,children:[Object(F.jsxs)(g.a,{variant:"subtitle1",align:"center",className:e.bold,children:[" ","Ativo com maior aumento de lucro"," "]}),a.ativo_maior_lucro.nome," ",Object(F.jsx)("div",{style:{width:100,height:100},children:Object(F.jsx)(X.a,{maxValue:1,value:a.lucro_maior_delta,text:R(a.lucro_maior_delta)})})]})}),!!a.ativo_maior_ebitda.nome&&Object(F.jsx)(Z.a,{className:e.card,children:Object(F.jsxs)(G.a,{className:e.cardContent,children:[Object(F.jsxs)(g.a,{variant:"subtitle1",align:"center",className:e.bold,children:[" ","Ativo com maior aumento de EBITDA"," "]}),a.ativo_maior_ebitda.nome," ",Object(F.jsx)("div",{style:{width:100,height:100},children:Object(F.jsx)(X.a,{maxValue:1,value:a.ebitda_maior_delta,text:R(a.ebitda_maior_delta)})})]})}),!!a.ativo_maior_receita.nome&&Object(F.jsx)(Z.a,{className:e.card,children:Object(F.jsxs)(G.a,{className:e.cardContent,children:[Object(F.jsxs)(g.a,{variant:"subtitle1",align:"center",className:e.bold,children:[" ","Ativo com maior aumento de receita"," "]}),a.ativo_maior_receita.nome," ",Object(F.jsx)("div",{style:{width:100,height:100},children:Object(F.jsx)(X.a,{value:100*a.receita_maior_delta,text:R(a.receita_maior_delta)})})]})})]})})}))]})},ne=t(503),ce=t(490),ie=t(498),re=function(e){return w.post("orders",{json:e})},oe=t(485),se=t(486),de=t(499),le=t(487),je=t(497),be=t(496),ue=t(502),me=t(488),xe=t(491),Oe=t(39),he=t(492),ve=t(248),pe=t(251),fe=Object(j.a)((function(){return{formControl:{minWidth:120,paddingTop:24},formLabelPadding:{paddingBottom:16},buttonMargin:{marginTop:24}}})),ge=function(e){var a=e.onSave,t=Object(n.useState)(),c=Object(l.a)(t,2),i=c[0],r=c[1],o=Object(n.useState)(0),j=Object(l.a)(o,2),b=j[0],u=j[1],m=Object(n.useState)("C"),x=Object(l.a)(m,2),O=x[0],h=x[1],v=Object(n.useState)(new Date),p=Object(l.a)(v,2),_=p[0],y=p[1],C=Object(n.useState)(0),q=Object(l.a)(C,2),N=q[0],k=q[1],S=Object(n.useState)(0),A=Object(l.a)(S,2),D=A[0],B=A[1],I=fe(),T=Object(n.useCallback)(Object(d.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("assets").json();case 2:a=e.sent,r(a),a.length>0&&u(a[0].id);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){T()}),[T]),Object(F.jsxs)(f.a,{m:4,display:"flex",flexDirection:"column",children:[Object(F.jsx)(g.a,{variant:"h6",children:" Adicione ativo"}),Object(F.jsxs)(oe.a,{className:I.formControl,children:[Object(F.jsx)(se.a,{children:"Tipo de ativo"}),Object(F.jsxs)(de.a,{row:!0,"aria-label":"tipo de ativo",name:"assetType",value:O,onChange:function(){h("C"===O?"V":"C")},children:[Object(F.jsx)(le.a,{value:"C",control:Object(F.jsx)(je.a,{color:"primary"}),label:"Compra"}),Object(F.jsx)(le.a,{value:"V",control:Object(F.jsx)(je.a,{color:"primary"}),label:"Venda"})]})]}),Object(F.jsxs)(oe.a,{className:I.formControl,children:[Object(F.jsx)(se.a,{children:"Ativo"}),Object(F.jsx)(be.a,{value:b,onChange:function(e){return u(e.target.value)},children:null===i||void 0===i?void 0:i.map((function(e){return Object(F.jsx)(ue.a,{value:e.id,children:e.nome})}))})]}),Object(F.jsx)(Oe.a,{utils:ve.a,children:Object(F.jsxs)(oe.a,{className:I.formControl,children:[Object(F.jsx)(se.a,{className:I.formLabelPadding,children:"Data"}),Object(F.jsx)(he.a,{disableToolbar:!0,variant:"inline",value:_,format:"dd/MM/yyyy",onChange:function(e){return y(e)}})]})}),Object(F.jsxs)(oe.a,{className:I.formControl,children:[Object(F.jsx)(se.a,{children:"Quantidade"}),Object(F.jsx)(me.a,{value:N,type:"number",onChange:function(e){return k(parseInt(e.target.value))}})]}),Object(F.jsxs)(oe.a,{className:I.formControl,children:[Object(F.jsx)(se.a,{children:"Valor total"}),Object(F.jsx)(me.a,{value:D,type:"number",onChange:function(e){return B(parseInt(e.target.value))},startAdornment:Object(F.jsx)(xe.a,{position:"start",children:"R$"})})]}),Object(F.jsx)(ce.a,{size:"medium",className:I.buttonMargin,variant:"contained",color:"primary",onClick:function(){a({data:"".concat(Object(pe.a)(_,"yyyy-MM-dd"),"T00:00:00Z"),id_ativo:b,id_usuario:1,quantidade:N,tipo:O,valor:D})},children:"Salvar"})]})},_e=function(e){var a=e.ativo,t=a.codigo;return{logo:a.logo,quantidade:e.quantidade,valor:e.valor,codigo:t}},ye=Object(j.a)((function(){return{margin:{marginBottom:24},modalContainer:{position:"absolute",width:800,backgroundColor:"white",border:"2px solid #000"},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Ce=function(){var e=Object(n.useState)([]),a=Object(l.a)(e,2),t=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(l.a)(i,2),o=r[0],j=r[1],b=ye(),x=Object(n.useCallback)(Object(d.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=1,w.get("portfolio?usuario=".concat(n)).json();case 2:a=e.sent,t=a.map((function(e){return _e(e)})),c(t);case 5:case"end":return e.stop()}var n}),e)}))),[]),O=function(){var e=Object(d.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(a);case 2:j(!1),x();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x()}),[x]),Object(F.jsxs)(f.a,{m:5,children:[Object(F.jsx)(g.a,{className:b.margin,variant:"h5",children:"Sua carteira"}),Object(F.jsx)(_.a,{component:y.a,className:b.margin,children:Object(F.jsxs)(h.a,{size:"small",children:[Object(F.jsx)(v.a,{children:Object(F.jsxs)(m.a,{children:[Object(F.jsx)(u.a,{padding:"checkbox",children:"Ativo"}),Object(F.jsx)(u.a,{}),Object(F.jsx)(u.a,{children:"Quantidade"}),Object(F.jsx)(u.a,{children:"Valor"})]})}),Object(F.jsx)(p.a,{children:t.map((function(e){return Object(F.jsxs)(m.a,{children:[Object(F.jsx)(u.a,{component:"th",scope:"row",children:Object(F.jsx)(ne.a,{variant:"square",src:e.logo,alt:e.codigo})}),Object(F.jsx)(u.a,{children:e.codigo}),Object(F.jsx)(u.a,{children:e.quantidade}),Object(F.jsx)(u.a,{children:(a=e.valor,"R$ ".concat(a.toString().replace(".",",")))})]},e.codigo);var a}))})]})}),Object(F.jsx)(ce.a,{size:"medium",variant:"contained",color:"primary",onClick:function(){return j(!o)},children:"Adicionar ativo"}),Object(F.jsx)(ie.a,{open:o,className:b.modal,onClose:function(){return j(!1)},children:Object(F.jsx)("body",{className:b.modalContainer,children:Object(F.jsx)(ge,{onSave:O})})})]})},qe=Object(j.a)((function(){return{header:{height:"100px",width:"100vw",display:"flex",alignItems:"center",paddingLeft:"30px",backgroundColor:"#015da4"},title:{fontFamily:"Exo",color:"#1C1D1E"}}})),we=function(){var e=qe();return Object(F.jsx)("div",{className:e.header,children:Object(F.jsx)(g.a,{className:e.title,variant:"h3",children:"You As Holding"})})},Ne=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(we,{}),Object(F.jsx)(Ce,{}),Object(F.jsx)(Q,{}),Object(F.jsx)(te,{})]})};var ke=function(){return Object(F.jsx)(Ne,{})},Se=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,506)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,i=a.getLCP,r=a.getTTFB;t(e),n(e),c(e),i(e),r(e)}))};r.a.render(Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(ke,{})}),document.getElementById("root")),Se()}},[[429,1,2]]]);
//# sourceMappingURL=main.edde7c59.chunk.js.map