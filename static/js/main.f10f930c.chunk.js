(this["webpackJsonpyou-as-holding-web"]=this["webpackJsonpyou-as-holding-web"]||[]).push([[0],{121:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),i=(a(121),a(15)),s=a.n(i),l=a(20),j=a(21),d=a(154),u=a(173),b=a(94),O=a(166),h=a(163),m=a(167),x=a(168),f=a(169),p=a(170),v=a(171),g=a(181),C=a(164),y=a(176),S=a(90).a.create({prefixUrl:"https://fundament-stock-api.herokuapp.com",headers:{accept:"application/json"}}),w=a(157),k=a(158),N=a(177),T=a(159),M=a(175),q=a(174),A=a(180),I=a(161),V=a(165),B=a(19),D=a(172),F=a(89),L=a(91),P=a(9),z=Object(d.a)((function(){return{formControl:{minWidth:120,paddingTop:24},formLabelPadding:{paddingBottom:16},buttonMargin:{marginTop:24}}})),E=function(e){var t=e.onSave,a=Object(n.useState)(),c=Object(j.a)(a,2),r=c[0],o=c[1],i=Object(n.useState)(0),d=Object(j.a)(i,2),O=d[0],h=d[1],m=Object(n.useState)("C"),x=Object(j.a)(m,2),f=x[0],p=x[1],v=Object(n.useState)(new Date),g=Object(j.a)(v,2),y=g[0],E=g[1],J=Object(n.useState)(0),Q=Object(j.a)(J,2),R=Q[0],$=Q[1],_=Object(n.useState)(0),U=Object(j.a)(_,2),W=U[0],Z=U[1],G=z(),H=Object(n.useCallback)(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("assets").json();case 2:t=e.sent,o(t),t.length>0&&h(t[0].id);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){H()}),[H]),Object(P.jsxs)(u.a,{m:4,display:"flex",flexDirection:"column",children:[Object(P.jsx)(b.a,{variant:"h6",children:" Adicione ativo"}),Object(P.jsxs)(w.a,{className:G.formControl,children:[Object(P.jsx)(k.a,{children:"Tipo de ativo"}),Object(P.jsxs)(N.a,{row:!0,"aria-label":"tipo de ativo",name:"assetType",value:f,onChange:function(){p("C"===f?"V":"C")},children:[Object(P.jsx)(T.a,{value:"C",control:Object(P.jsx)(M.a,{color:"primary"}),label:"Compra"}),Object(P.jsx)(T.a,{value:"V",control:Object(P.jsx)(M.a,{color:"primary"}),label:"Venda"})]})]}),Object(P.jsxs)(w.a,{className:G.formControl,children:[Object(P.jsx)(k.a,{children:"Ativo"}),Object(P.jsx)(q.a,{value:O,onChange:function(e){return h(e.target.value)},children:null===r||void 0===r?void 0:r.map((function(e){return Object(P.jsx)(A.a,{value:e.id,children:e.nome})}))})]}),Object(P.jsx)(B.a,{utils:F.a,children:Object(P.jsxs)(w.a,{className:G.formControl,children:[Object(P.jsx)(k.a,{className:G.formLabelPadding,children:"Data"}),Object(P.jsx)(D.a,{disableToolbar:!0,variant:"inline",value:y,format:"dd/MM/yyyy",onChange:function(e){return E(e)}})]})}),Object(P.jsxs)(w.a,{className:G.formControl,children:[Object(P.jsx)(k.a,{children:"Quantidade"}),Object(P.jsx)(I.a,{value:R,type:"number",onChange:function(e){return $(parseInt(e.target.value))}})]}),Object(P.jsxs)(w.a,{className:G.formControl,children:[Object(P.jsx)(k.a,{children:"Valor total"}),Object(P.jsx)(I.a,{value:W,type:"number",onChange:function(e){return Z(parseInt(e.target.value))},startAdornment:Object(P.jsx)(V.a,{position:"start",children:"R$"})})]}),Object(P.jsx)(C.a,{size:"medium",className:G.buttonMargin,variant:"contained",onClick:function(){t({data:"".concat(Object(L.a)(y,"yyyy-MM-dd"),"T00:00:00Z"),id_ativo:O,id_usuario:1,quantidade:R,tipo:f,valor:W})},children:"Salvar"})]})},J=function(e){var t=e.ativo,a=t.codigo;return{logo:t.logo,quantidade:e.quantidade,valor:e.valor,codigo:a}},Q=Object(d.a)((function(){return{margin:{marginBottom:24},modalContainer:{position:"absolute",width:800,backgroundColor:"white",border:"2px solid #000"},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),R=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(j.a)(r,2),i=o[0],d=o[1],w=Q(),k=Object(n.useCallback)(Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=1,S.get("portfolio?usuario=".concat(n)).json();case 2:t=e.sent,a=t.map((function(e){return J(e)})),c(a);case 5:case"end":return e.stop()}var n}),e)}))),[]);return Object(n.useEffect)((function(){k()}),[k]),Object(P.jsxs)(u.a,{m:5,children:[Object(P.jsx)(b.a,{className:w.margin,variant:"h5",children:"Sua carteira"}),Object(P.jsx)(O.a,{component:h.a,className:w.margin,children:Object(P.jsxs)(m.a,{size:"small",children:[Object(P.jsx)(x.a,{children:Object(P.jsxs)(f.a,{children:[Object(P.jsx)(p.a,{padding:"checkbox",children:"Ativo"}),Object(P.jsx)(p.a,{}),Object(P.jsx)(p.a,{children:"Quantidade"}),Object(P.jsx)(p.a,{children:"Valor"})]})}),Object(P.jsx)(v.a,{children:a.map((function(e){return Object(P.jsxs)(f.a,{children:[Object(P.jsx)(p.a,{component:"th",scope:"row",children:Object(P.jsx)(g.a,{variant:"square",src:e.logo,alt:e.codigo})}),Object(P.jsx)(p.a,{children:e.codigo}),Object(P.jsx)(p.a,{children:e.quantidade}),Object(P.jsx)(p.a,{children:(t=e.valor,"R$ ".concat(t.toString().replace(".",",")))})]},e.codigo);var t}))})]})}),Object(P.jsx)(C.a,{size:"medium",variant:"contained",color:"primary",onClick:function(){return d(!i)},children:"Adicionar ativo"}),Object(P.jsx)(y.a,{open:i,className:w.modal,onClose:function(){return d(!1)},children:Object(P.jsx)("body",{className:w.modalContainer,children:Object(P.jsx)(E,{onSave:function(e){!function(e){S.post("orders",{json:e})}(e),d(!1),k()}})})})]})};var $=function(){return Object(P.jsx)(R,{})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,184)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)($,{})}),document.getElementById("root")),_()}},[[129,1,2]]]);
//# sourceMappingURL=main.f10f930c.chunk.js.map